<!DOCTYPE html>
<html>
<head>
  <title>Simple Web Tool</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    input, textarea { margin: 5px 0; width: 100%; }
    table { margin-top: 20px; border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid #ddd; padding: 8px; }
  </style>
</head>
<body>

<h2>Insert Data</h2>
<input type="text" id="name" placeholder="Name" />
<input type="email" id="email" placeholder="Email" />
<textarea id="note" placeholder="Note"></textarea>
<button onclick="submitData()">Submit</button>

<h2>Stored Data</h2>
<table id="dataTable">
  <thead><tr><th>Name</th><th>Email</th><th>Note</th><th>Time</th></tr></thead>
  <tbody></tbody>
</table>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbydNBJyyTQpWQZfa0R-cLi4HHRy3j3dxMev3NB8gLDujXg8rNjCeiVZgJQotN_mBU1cCg/exec";

function submitData() {
  const name = document.getElementById("name").value;
  const email = document.getElementById("email").value;
  const note = document.getElementById("note").value;

  fetch(API_URL, {
    method: "POST",
    body: JSON.stringify({ name, email, note }),
    headers: { "Content-Type": "application/json" }
  }).then(() => {
    alert("Data saved!");
    document.getElementById("name").value = "";
    document.getElementById("email").value = "";
    document.getElementById("note").value = "";
    loadData();
  });
}

function loadData() {
  fetch(API_URL + "?action=getData")
    .then(res => res.json())
    .then(data => {
      const tbody = document.querySelector("#dataTable tbody");
      tbody.innerHTML = "";
      for (let i = 1; i < data.length; i++) {
        let row = `<tr>
          <td>${data[i][0]}</td>
          <td>${data[i][1]}</td>
          <td>${data[i][2]}</td>
          <td>${data[i][3]}</td>
        </tr>`;
        tbody.innerHTML += row;
      }
    });
}

loadData();
</script>

</body>
</html>
